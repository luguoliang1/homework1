<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>测试</title>
    <link rel="stylesheet" href="css/form.css">
  </head>
  <body>
    <!-- 标题 -->
    <font color="blue"><h3>欢迎注册会员</h3></font>
    <!-- 电话号码的实现 -->
    <h5>
    <form action="#"method="post" enctype="multipart/form-data">
    <label for="username">电话号码:</label>
    <input type="tel" id="username" name="username" required title="11位手机号" placeholder="11位手机号"><font color="red">必填</font>
    <br>
    <!-- 密码的实现 -->
    <label for="password">创建密码:</label>
    <input type="password" name="创建密码"    id="password" maxlength="8" placeholder="长度为8的密码"><font color="red">必填</font>
    <br>
    <!-- 电子邮箱的实现 -->
    <label for="email">电子邮箱:</label>
    <input type="email" id="email" name="email" placeholder="例如:wustzz@sina.com"><font color="red">必填</font>
    <br>
    <!-- 验证码的实现 -->
    <div>
    <label for="yanzhengma">验证码:</label>
    <input type="text" name="yanzhengma" id="yanzhengma">
      <span id="capcha" class="yanzheng">4位验证码</span>
        <img src="images/arrow_03.png" id="change_capcha" alt="" />
    <script >//验证码：由大小写字母或数字组成
    let codeStr =
    "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    //验证码长度
    let length = 4;
    let capcha = document.getElementById("capcha");
    let change_capcha = document.getElementById("change_capcha");
    // 用来生成一个[n,m]随机整数
    function getRandom(n, m) {
    return parseInt(Math.random() * (m - n + 1) + n);
    }
    // 将随机生成的整数下标对应的字母放入span中
    function getCode() {
    let str = "";
    // 验证码有几位就循环几次
     for (let i = 0; i < length; i++) {
    let index = getRandom(0, 61);
    str += codeStr.charAt(index);
    }
    capcha.innerHTML = str;
  }
// 页面初始加载时就调用函数生成验证码，页面刷新也会执行
      getCode();
// 点击刷新验证码
    capcha.addEventListener("click", getCode);
    change_capcha.addEventListener("click", getCode);

    var msg = document.getElementById("msg"); // 根据id值找到span元素
    window.onload = function () {
    msg.innerHTML = document.getElementById("score").value; // 获取区间域初始value值
    }
    document.getElementById("score").onchange = function () {
    msg.innerHTML = this.value; // 将当前区间域的value作为span元素的内容
    }

</script>
    <!-- 性别单选框 -->
    </div>
    <label for="radio">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;性别:</label>
    <input type="radio" name="sex" value="male" checked="checked">男
    <input type="radio" name="sex" value="female" checked="checked">女
    <br>
    <!-- 生日 -->
    <label for="birthdate">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;生日:</label>
    <input type="date" value="年/ 月/日" id="birthdate" >
    <br>
    <!-- 籍贯 -->
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;籍贯:
    <select name="address">
        <option value="0">湖北</option>
    </select>
    <select name="city">
      <option value="0">武汉</option>
    </select>
    <br>
    <!-- 学历 -->
    个人学历：
    <select name="xueli" >
      <option value="0">本科&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>
      </select>
      <br>
      <!-- 月薪 -->
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          月薪：
          <input type="range" id="score" name="score" min="0.0" max="10000.0" step="0.5" value="6000.0" >
          <span id="msg"></span>
          <script>
          var msg = document.getElementById("msg"); // 根据id值找到span元素
            window.onload = function () {
          msg.innerHTML = document.getElementById("score").value; // 获取区间域初始value值
          }
            document.getElementById("score").onchange = function () {
            msg.innerHTML = this.value; // 将当前区间域的value作为span元素的内容
          }
          </script>
          <br>
          <!-- 个人爱好 -->
          个人爱好：
          <label>
            <input type="checkbox" name="like" value="sing">唱歌
          </label>
           <label>
            <input type="checkbox" name="like" value="run">跑步
          </label>
          <label>
            <input type="checkbox" name="like" value="swim">游泳
          </label>
          <br>
          <!-- 个人照片 -->
          个人照片：
          <p>图片预览：</p>
          <p></p>
            <div id="test-image-preview" style="border: 1px solid silver; width: 300px; height: 200px; background-repeat: no-repeat;
            background-position: center;">
            </div>
            <p></p>
            <p>
            <input type="file" id="test-image-file" name="test">
            </p>
          <p id="test-file-info">没有选择文件</p>
          <script>
          var fileInput = document.getElementById('test-image-file');
          var info = document.getElementById('test-file-info');
          var preview = document.getElementById('test-image-preview');
          fileInput.addEventListener('change', function () { // 监听change事件
          preview.style.backgroundImage = ''; // 清除背景图片
          if (!fileInput.value) {
          info.innerHTML = '没有选择文件';
          return;
          }
          var file = fileInput.files[0]; // 获取File引用
          // 获取File信息:
          info.innerHTML = '文件: ' + file.name + '<br>' + '大小: ' + file.size + '<br>' + '修改: ' + file.lastModifiedDate;
          if (file.type !== 'image/jpeg' && file.type !== 'image/png' && file.type !== 'image/gif') {
          alert('不是有效的图片文件!');
          return;
          }
        var reader = new FileReader(); // 读取文件
        reader.onload = function (e) { // 发起一个异步操作来读取文件内容
        var data = e.target.result; // data串形如： 'data:image/jpeg;base64,/9j/4AAQSk...(base64编码)...'
        preview.style.backgroundImage = 'url(' + data + ')';
        };
        reader.readAsDataURL(file); // 以DataURL的形式读取文件
        });
        </script>
        <br>
        <!-- 简介 -->
        个人简介：<br>
        <textarea name="intro" cols="50" rows="10"></textarea>
        <br>
        <input type="submit" value="提交">
        <input type="reset" value="重填">
    </form>
  </body>
</html>
